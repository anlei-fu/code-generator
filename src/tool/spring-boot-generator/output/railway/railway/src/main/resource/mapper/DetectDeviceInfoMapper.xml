<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.railway.mapper.DetectDeviceInfoMapper">
    <insert id="addDetectDeviceInfo" parameterType="com.railway.pojo.req.AddDetectDeviceInfoReq">
          insert  into detect_device_info t
          <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="commissioningDate != null">
                  t.commissioning_date,
            </if>
            <if test="deivceNo != null">
                  t.deivce_no,
            </if>
            <if test="deviceMode != null">
                  t.device_mode,
            </if>
            <if test="deviceName != null">
                  t.device_name,
            </if>
            <if test="durableYears != null">
                  t.durable_years,
            </if>
            <if test="exFactoryDate != null">
                  t.ex_factory_date,
            </if>
            <if test="fixedAssetsNo != null">
                  t.fixed_assets_no,
            </if>
            <if test="fixedAssetsPrice != null">
                  t.fixed_assets_price,
            </if>
             t.is_delete,
            <if test="length != null">
                  t.length,
            </if>
            <if test="manufacturer != null">
                  t.manufacturer,
            </if>
            <if test="operator != null">
                  t.operator,
            </if>
            <if test="purchasePrice != null">
                  t.purchase_price,
            </if>
            <if test="remark != null">
                  t.remark,
            </if>
            <if test="scrapDate != null">
                  t.scrap_date,
            </if>
            <if test="status != null">
                  t.status,
            </if>
            <if test="useStatus != null">
                  t.use_status,
            </if>
            <if test="weight != null">
                  t.weight,
            </if>
            <if test="width != null">
                  t.width,
            </if>
            <if test="workareaId != null">
                  t.workarea_id,
            </if>
             t.create_time
          </trim>
          values
          <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="commissioningDate != null">
                  #{commissioningDate},
            </if>
            <if test="deivceNo != null">
                  #{deivceNo},
            </if>
            <if test="deviceMode != null">
                  #{deviceMode},
            </if>
            <if test="deviceName != null">
                  #{deviceName},
            </if>
            <if test="durableYears != null">
                  #{durableYears},
            </if>
            <if test="exFactoryDate != null">
                  #{exFactoryDate},
            </if>
            <if test="fixedAssetsNo != null">
                  #{fixedAssetsNo},
            </if>
            <if test="fixedAssetsPrice != null">
                  #{fixedAssetsPrice},
            </if>
             #{isDelete},
            <if test="length != null">
                  #{length},
            </if>
            <if test="manufacturer != null">
                  #{manufacturer},
            </if>
            <if test="operator != null">
                  #{operator},
            </if>
            <if test="purchasePrice != null">
                  #{purchasePrice},
            </if>
            <if test="remark != null">
                  #{remark},
            </if>
            <if test="scrapDate != null">
                  #{scrapDate},
            </if>
            <if test="status != null">
                  #{status},
            </if>
            <if test="useStatus != null">
                  #{useStatus},
            </if>
            <if test="weight != null">
                  #{weight},
            </if>
            <if test="width != null">
                  #{width},
            </if>
            <if test="workareaId != null">
                  #{workareaId},
            </if>
             current_timestamp
          </trim>
    </insert>
    <delete id="deleteDetectDeviceInfoById">
          delete from detect_device_info t
          <where>
            <if test="id != null">
                  t.id = #{id}
            </if>
          </where>
    </delete>
    <update id="updateDetectDeviceInfoById" parameterType="com.railway.pojo.param.UpdateDetectDeviceInfoByIdParams">
        update detect_device_info t
        <set>
            <if test="commissioningDate != null">
                  t.commissioning_date = #{CommissioningDate},
            </if>
            <if test="deivceNo != null">
                  t.deivce_no = #{DeivceNo},
            </if>
            <if test="deviceMode != null">
                  t.device_mode = #{DeviceMode},
            </if>
            <if test="deviceName != null">
                  t.device_name = #{DeviceName},
            </if>
            <if test="durableYears != null">
                  t.durable_years = #{DurableYears},
            </if>
            <if test="exFactoryDate != null">
                  t.ex_factory_date = #{ExFactoryDate},
            </if>
            <if test="fixedAssetsNo != null">
                  t.fixed_assets_no = #{FixedAssetsNo},
            </if>
            <if test="fixedAssetsPrice != null">
                  t.fixed_assets_price = #{FixedAssetsPrice},
            </if>
            <if test="isDelete != null">
                  t.is_delete = #{IsDelete},
            </if>
            <if test="length != null">
                  t.length = #{Length},
            </if>
            <if test="manufacturer != null">
                  t.manufacturer = #{Manufacturer},
            </if>
            <if test="operator != null">
                  t.operator = #{Operator},
            </if>
            <if test="purchasePrice != null">
                  t.purchase_price = #{PurchasePrice},
            </if>
            <if test="remark != null">
                  t.remark = #{Remark},
            </if>
            <if test="scrapDate != null">
                  t.scrap_date = #{ScrapDate},
            </if>
            <if test="status != null">
                  t.status = #{Status},
            </if>
            <if test="useStatus != null">
                  t.use_status = #{UseStatus},
            </if>
            <if test="weight != null">
                  t.weight = #{Weight},
            </if>
            <if test="width != null">
                  t.width = #{Width},
            </if>
            <if test="workareaId != null">
                  t.workarea_id = #{WorkareaId}
            </if>
            t.update_time= current_timestamp
        </set>
          <where>
            <if test="id != null">
                  t.id = #{id}
            </if>
          </where>
    </update>
    <select id="getDetectDeviceInfoById" resultType="com.railway.pojo.entity.DetectDeviceInfo">
          select
             t.commissioning_date,
             t.create_time,
             t.deivce_no,
             t.device_mode,
             t.device_name,
             t.durable_years,
             t.ex_factory_date,
             t.fixed_assets_no,
             t.fixed_assets_price,
             t.id,
             t.is_delete,
             t.length,
             t.manufacturer,
             t.operator,
             t.purchase_price,
             t.remark,
             t.scrap_date,
             t.status,
             t.update_time,
             t.use_status,
             t.weight,
             t.width,
             t.workarea_id
          form detect_device_info t
          <where>
            <if test="id != null">
                  t.id = #{id}
            </if>
          </where>
    </select>
    <select id="getDetectDeviceInfoList" resultType="com.railway.pojo.entity.DetectDeviceInfo" parameterType="com.railway.pojo.req.GetDetectDeviceInfoListReq">
          select
             t.commissioning_date,
             t.create_time,
             t.deivce_no,
             t.device_mode,
             t.device_name,
             t.durable_years,
             t.ex_factory_date,
             t.fixed_assets_no,
             t.fixed_assets_price,
             t.id,
             t.is_delete,
             t.length,
             t.manufacturer,
             t.operator,
             t.purchase_price,
             t.remark,
             t.scrap_date,
             t.status,
             t.update_time,
             t.use_status,
             t.weight,
             t.width,
             t.workarea_id
          form detect_device_info t
          <where>
            <if test="commissioningDateStart !=null and  commissioningDateEnd != null">
                  t.commissioning_date between #{commissioningDateStart} and #{commissioningDateEnd}
            </if>
            <if test="createTimeStart !=null and  createTimeEnd != null">
                  and t.create_time between #{createTimeStart} and #{createTimeEnd}
            </if>
            <if test="deivceNo != null and deivceNo != ''">
                  and t.deivce_no = #{deivceNo}
            </if>
            <if test="deviceMode != null and deviceMode != ''">
                  and t.device_mode = #{deviceMode}
            </if>
            <if test="durableYears != null">
                  and t.durable_years = #{durableYears}
            </if>
            <if test="exFactoryDateStart !=null and  exFactoryDateEnd != null">
                  and t.ex_factory_date between #{exFactoryDateStart} and #{exFactoryDateEnd}
            </if>
            <if test="fixedAssetsNo != null and fixedAssetsNo != ''">
                  and t.fixed_assets_no = #{fixedAssetsNo}
            </if>
            <if test="fixedAssetsPrice != null">
                  and t.fixed_assets_price = #{fixedAssetsPrice}
            </if>
            <if test="isDelete != null">
                  and t.is_delete = #{isDelete}
            </if>
            <if test="length != null">
                  and t.length = #{length}
            </if>
            <if test="manufacturer != null and manufacturer != ''">
                  and t.manufacturer = #{manufacturer}
            </if>
            <if test="operator != null">
                  and t.operator = #{operator}
            </if>
            <if test="purchasePrice != null">
                  and t.purchase_price = #{purchasePrice}
            </if>
            <if test="scrapDateStart !=null and  scrapDateEnd != null">
                  and t.scrap_date between #{scrapDateStart} and #{scrapDateEnd}
            </if>
            <if test="status != null">
                  and t.status = #{status}
            </if>
            <if test="updateTimeStart !=null and  updateTimeEnd != null">
                  and t.update_time between #{updateTimeStart} and #{updateTimeEnd}
            </if>
            <if test="useStatus != null">
                  and t.use_status = #{useStatus}
            </if>
            <if test="weight != null">
                  and t.weight = #{weight}
            </if>
            <if test="width != null">
                  and t.width = #{width}
            </if>
            <if test="workareaId != null">
                  and t.workarea_id = #{workareaId}
            </if>
          </where>
    </select>
</mapper>
