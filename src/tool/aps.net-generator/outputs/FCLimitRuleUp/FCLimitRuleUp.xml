<?xml version="1.0" encoding="utf-8" ?>
<config>
  <table name="@table.name">
    <fields>
      <field pname="Id" name="ID" isPk="ture" buildType="0" valueSql="SELECT SEQ_FC_LIMIT_RULE_UP_ID.NEXTVAL FROM DUAL" label="编号"/>
      <field pname="ProductId" name="PRODUCT_ID" label="产品编号 0:所有"/>
      <field pname="RuleType" name="RULE_TYPE" label="规则类型: 1-年龄 2-身份证"/>
      <field pname="ValueType" name="VALUE_TYPE" label="取值类型: 1-范围 2-等于 3-大于 4-小于 5-不等于 6-包含 7-不包含"/>
      <field pname="ValueA" name="VALUE_A" label="规则取值a"/>
      <field pname="ValueB" name="VALUE_B" label="规则取值b"/>
      <field pname="Status" name="STATUS" label="状态: 0-启用 1-禁用"/>
      <field pname="CreateUser" name="CREATE_USER" label="创建人"/>
      <field pname="CreateTime" name="CREATE_TIME" label="创建时间"/>
      <field pname="EditUser" name="EDIT_USER" label="更新人"/>
      <field pname="EditTime" name="EDIT_TIME" label="更新时间"/>
    </fields>
  </table>
  <template>
    <item name="getList">
      <sql>
        <![CDATA[
          SELETC t.* FROM
                      (SELECT RID
                          FROM (SELECT R.RID, ROWNUM LINENUM
                                    FROM (SELECT t.rowid RID
                                          FROM  FC_LIMIT_RULE_UP t
                                          WHERE 
                                             1=1
                                             {&@t.CreateTime >= to_date($ST,'YYYY-MM-DD')}
                                             {&@t.CreateTime < to_date($ET,'YYYY-MM-DD')}
                                             {&@t.RuleType}
                                             {&@t.ValueType}
                                             {&@t.Status}
                                             {&@t.ProductId}

                                   ORDER BY t.CreateTime DESC) R
                                   WHERE ROWNUM <= { :PS} * { :PI})
                           WHERE LINENUM > { :PS} * ({ :PI} - 1)) tab
                   inner join FC_LIMIT_RULE_UP t on tab.rid = t.rowid
        ]]>
      </sql>
    </item>
    <item name="getCount">
      <sql>
        <![CDATA[
          SELECT COUNT(1) FROM FC_LIMIT_RULE_UP  t  WHERE 
                                             1=1
@filters
                                             {&@t.CreateTime >= to_date($ST,'YYYY-MM-DD')}
                                             {&@t.CreateTime < to_date($ET,'YYYY-MM-DD')}
        ]]>
      </sql>
    </item>
  </template>
</config>