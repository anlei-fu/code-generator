@model SettleAccount.Model.QyTradeDownFundItemModel
<script type="text/javascript">
    $(function () {
        $('#mainForm').validate({
            errorClass: "error",
            focusInvalid: true,
            submitHandler: function (form) {
                if (!$(form).valid()) {
                    return false;
                }
                var data = $(form).serialize();
                $.ajax({
                    type: "post",
                    data: data,
                    url: "/QyTradeDownFund/item",
                    success: function (data) {
                        data = $.parseJSON(data);
                        if (data.Status) {
                            var id = $('input[name=__id]').val();
                            alert(data.Message);
                            if (id != '') {
                                refreshCurrentPage();
                            }
                            return true;
                        } else {
                            alert(data.Message);
                        }
                        return false;
                    },
                    error: function () {
                        alert("请求出错");
                    }
                });
            },
            rules: {
                DownChannelNo: { required: true },
                DownAccountId: { required: true },
                ChangeType: { required: true },
                RecordId: { required: true },
                QyOrderId: { required: true },
                TradeOrderNo: { required: true },
                ExtOrderNo: { required: true },
                ExtContractNo: { required: true },
                ProductName: { required: true },
                OrderSource: { required: true },
                OrderAmount: { required: true },
                ChangeAmount: { required: true },
                OrderFace: { required: true },
                ChangeFace: { required: true },
                Balance: { required: true },
            },
            messages: {
        }
    });
    $('select').each(function () {
        if ($(this).css('display') != "none") {
            $(this).sSelect();
        }
    });
});


</script>
<form id="mainForm" method="post">
<input type="hidden" name="__id" value="@Model.Id" />
<table>
<tr>
        <td width="120" class="textalign_r">
        <em class="required">*</em>下游支付账号：
    </td>
    <td width="300" class="textalign_l">
        <p class="sc_p">
            @Html.DropDownList("DownAccountId", new SelectList(DownAccountService.Instance.GetChannelList(), "DownAccountId", "DownAccountName", Model.CurrentModel.DownAccountId), "--请选择--")
        </p>
    </td><td width="120" class="textalign_r">
        <em class="required">*</em>变更类型：
    </td>
    <td width="300" class="textalign_l">
        <p class="sc_p">
            @Html.DropDownList("ChangeType", new SelectList(SystemDictionaryService.Instance.GetChannelList("ChangeType"), "Value", "Name", Model.CurrentModel.ChangeType), "--请选择--")
        </p>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>下游变动编号：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="RecordId" value="@Model.CurrentModel.RecordId"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>记账系统订单号：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="QyOrderId" value="@Model.CurrentModel.QyOrderId"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>交易系统订单号(激活编号)：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="TradeOrderNo" value="@Model.CurrentModel.TradeOrderNo"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>扩展订单号交易(权益卡号)：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="ExtOrderNo" value="@Model.CurrentModel.ExtOrderNo"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>扩展号(合同编号)：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="ExtContractNo" value="@Model.CurrentModel.ExtContractNo"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>权益包名称：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="ProductName" value="@Model.CurrentModel.ProductName"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>订单来源（系统编号）：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="OrderSource" value="@Model.CurrentModel.OrderSource"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>订单金额：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="OrderAmount" value="@Model.CurrentModel.OrderAmount"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>变动金额(销售金额)：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="ChangeAmount" value="@Model.CurrentModel.ChangeAmount"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>订单面值(权益包价值)：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="OrderFace" value="@Model.CurrentModel.OrderFace"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>变动面值：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="ChangeFace" value="@Model.CurrentModel.ChangeFace"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>账户余额：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="Balance" value="@Model.CurrentModel.Balance"  style="width:300px"/>
    </td>
</tr>
</table>
</form>
