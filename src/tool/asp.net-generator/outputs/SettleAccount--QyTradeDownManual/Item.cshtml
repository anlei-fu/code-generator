@model SettleAccount.Model.QyTradeDownManualItemModel
<script type="text/javascript">
    $(function () {
        $('#mainForm').validate({
            errorClass: "error",
            focusInvalid: true,
            submitHandler: function (form) {
                if (!$(form).valid()) {
                    return false;
                }
                var data = $(form).serialize();
                $.ajax({
                    type: "post",
                    data: data,
                    url: "/QyTradeDownManual/item",
                    success: function (data) {
                        data = $.parseJSON(data);
                        if (data.Status) {
                            var id = $('input[name=__id]').val();
                            alert(data.Message);
                            if (id != '') {
                                refreshCurrentPage();
                            }
                            return true;
                        } else {
                            alert(data.Message);
                        }
                        return false;
                    },
                    error: function () {
                        alert("请求出错");
                    }
                });
            },
            rules: {
                ChannelNo: { required: true },
                HasAdjust: { required: true },
                AddType: { required: true },
                RecordId: { required: true },
                AccountId: { required: true },
                AdjustId: { required: true },
                ChangeAmount: { required: true },
                RealAmount: { required: true },
                Balance: { required: true },
                BankFundId: { required: true },
                Memo: { required: true },
                ExtRecordNo: { required: true },
                HandlingFeeId: { required: true },
            },
            messages: {
        }
    });
    $('select').each(function () {
        if ($(this).css('display') != "none") {
            $(this).sSelect();
        }
    });
});


</script>
<form id="mainForm" method="post">
<input type="hidden" name="__id" value="@Model.Id" />
<table>
<tr>
        <td width="120" class="textalign_r">
        <em class="required">*</em>是否红冲过：
    </td>
    <td width="300" class="textalign_l">
        <p class="sc_p">
            @Html.DropDownList("HasAdjust", new SelectList(SystemDictionaryService.Instance.GetChannelList("HasAdjust"), "Value", "Name", Model.CurrentModel.HasAdjust), "--请选择--")
        </p>
    </td><td width="120" class="textalign_r">
        <em class="required">*</em>变动类型：
    </td>
    <td width="300" class="textalign_l">
        <p class="sc_p">
            @Html.DropDownList("AddType", new SelectList(SystemDictionaryService.Instance.GetChannelList("AddType"), "Value", "Name", Model.CurrentModel.AddType), "--请选择--")
        </p>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>编号：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="RecordId" value="@Model.CurrentModel.RecordId"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>账户编号：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="AccountId" value="@Model.CurrentModel.AccountId"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>红冲编号：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="AdjustId" value="@Model.CurrentModel.AdjustId"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>变动金额：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="ChangeAmount" value="@Model.CurrentModel.ChangeAmount"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>交易平账真实金额：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="RealAmount" value="@Model.CurrentModel.RealAmount"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>余额：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="Balance" value="@Model.CurrentModel.Balance"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>银行资金变动编号（红冲是使用）：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="BankFundId" value="@Model.CurrentModel.BankFundId"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>备注：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="Memo" value="@Model.CurrentModel.Memo"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>外部加款记录编号：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="ExtRecordNo" value="@Model.CurrentModel.ExtRecordNo"  style="width:300px"/>
    </td><td class="textalign_r">
        <em class="required">*</em>收取手续费的记录编号：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="HandlingFeeId" value="@Model.CurrentModel.HandlingFeeId"  style="width:300px"/>
    </td>
</tr><tr>
        <td class="textalign_r">
        <em class="required">*</em>收取手续费的记录编号：
    </td>
    <td width="300" class="textalign_l">
        <input class="widthinput" type="text" name="HandlingFeeId" value="@Model.CurrentModel.HandlingFeeId"  style="width:300px"/>
    </td>
</tr>
</table>
</form>
