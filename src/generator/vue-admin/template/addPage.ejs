<template>
        <Modal ref="modal" width="30%" :title="title" @onOk="edit">
          <el-form ref="editForm" :model="editModel" :rules="rules" label-position="left" label-width="120px">
          <% fileds.forEach(item=>{%>
                <el-form-item label="<%=ite.label%>" prop="<%=item.field%>">
                  <% if(item.type=="select") {%>
                        <Input v-model="editModel.<%=item.field%>  width="100%" />
                 <% } %>  <% else if(item.type=="text") {%>
                        <Input v-model="editModel.<%=item.field%>" width="100%" />
                 <% } %>  <% else if(item.type=="check") {%>
                        <Input v-model="editModel.<%=item.field%>" width="100%" />
                 <% } %>  <% else if(item.type=="textArea") {%>
                        <Input v-model="editModel.<%=item.field%>" width="100%" />
                 <% } %>  
                       
                </el-form-item>
          <%}) %> 
          </el-form>
        </Modal>
      </template>
      <script>
        export default {
          props: {
            data: Object,
            title: String,
          },
          created() {
            this.editModel = this.data;
          },
          data() {
            return {
              editModel: <%fields%>,
              rules:<%=rules%>
            };
          },
          watch: {
            data(val) {
              this.editModel = val;
            },
          },
          methods: {
            edit(formName) {
              this.$refs.editForm.validate(async (valid) => {
                if (valid) {
                  this.$refs.modal.close();
                  let res = this.editModel.id 
                  ? await this.api.dictionary.update(this.editModel)
                  : await this.api.dictionary.add(this.editModel);
      
                  this.handleNormalResp(res);
                }
              });
            },
            show() {
              this.$refs.modal.show();
            },
          },
        };
      </script>
   
      